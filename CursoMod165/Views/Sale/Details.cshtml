@model IEnumerable<CursoMod165.Models.ProductList> 
@* @model CursoMod165.Models.Sale *@

<h1>Details</h1>

<h4>Order</h4>

<hr />

<p>
    <!-- Usar interncionalizacao -->
    <!--  a proxima linha faz uma acção; cria a opcao de criar um novo customer   -->
    @* <a class="btn btn-outline-primary" asp-action="Create">@SharedLocalizer["Create New"]</a> *@

    <a class="btn btn-outline-primary" asp-action="CreateProductList">CreateProductList</a>

</p>

<span><h4>Order Number :    @ViewBag.NumVenda      /      Customer ID :    @ViewBag.ClienteID </h4></span>

<br />
<div container>
    <div class="row">
        <div class="col col-lg-2"><b>Customer Name: : </b></div>
        <div class="col-md-auto"><p>@ViewBag.ClienteName</p</div>
    </div>
    <div class="row">
        <div class="col col-lg-2"><b>Email : </b></div>
        <div class="col-md-auto"><p>@ViewBag.Email</p</div>
    </div>

     <div class="row">
        <div class="col col-lg-2"><b>Address : </b></div>
        <div class="col-md-auto"><p>@ViewBag.Address @ViewBag.Zipcode @ViewBag.City</p</div>
    </div>
    <div class="row">
        <div class="col col-lg-2"><b>Observations : </b></div>
        <div class="col-md-auto"><p>@ViewBag.Obs</p</div>
    </div>
</div>
<!-- <p>@ViewBag.Nome</p> -->
<!--@ViewBag.Obs -->


<!-- ????????????????????????????????????? -->
<!--Falta create NEW -->
<p>
    <!--  a proxima linha faz uma acção; cria a opcao de criar um novo customer   -->
    <!--  Posso enviar talvez o CodVenda aqui :-->
    <!-- <a class="btn btn-outline-warning" asp-action="Edit" asp-route-id="(c)productList.ID">Edit</a> -->
    <a class="btn btn-outline-primary" asp-action="AddProductToList">@ViewBag.NumVenda</a>
    <br />
</p>


<!-- Aqui é a tabela do da lista de produtos da venda  -->
<!-- Apresento 1º cabecalho e de seguinda num ciclo for o conteudo linha a linha da base de dados -->




<table class="table">
    <thead>
        <tr>

            <th>
                <!--   está só =  Descricao    -->
                @Html.DisplayNameFor(model => model.ID)

            </th>

            <th>
                <!--  Preço  -->
                @Html.DisplayNameFor(model => model.Price)
            </th>

            <th>
                <!--  Quantidade  -->
                @Html.DisplayNameFor(model => model.Product.Description)  <!--  Testar product.description / Quantity-->
            </th>
                
            <!-- Codigo da unidade th ou td bold ou nao-->
            <th>
                <!-- Nome do produto dentro da category -->
                @Html.DisplayNameFor(model => model.Sale.CodVenda)
            </th>


            @*
            <th>
                <!--  Nome na tabela category  -->
                @Html.DisplayNameFor(model => model.Product.Name)
            </th> *@

            <th>
                <!-- Aqui vamos criar novos botoes na tabela: apagar, modificar etc  -->
                <!-- o que é isto ??? -->
                <!-- titulo da tab para as accoes possiveis na tabela -->
                Actions
            </th>
        </tr>
    </thead>
    
    <!-- Apresenta dados que estao na base de dados -->
    <!-- se a tabela estiver vazia apresenta informacao que esta vazia -->
    <tbody> 
        @if (!Model.Any())
        {
            <tr>No Data (Carrinho de compras vazio - Adicione Produto) </tr>
            
        } 
        <!-- para cada elemento do staff apresenta os seguintes campos -->
        <!-- Os campos tem de coincidir com os de cima -->
        @foreach (var productList in Model)
        {
        <tr>


            <td>
                <!-- arroba description.Name -->
                @Html.DisplayFor(modelItem => productList.ID)
            </td>

            <td>
                    <!-- arroba price -->
                 @Html.DisplayFor(modelItem => productList.Price)
            </td>

            <td>
                    <!-- arroba quantity -->
                    @Html.DisplayFor(modelItem => productList.Product.Description)
            </td>

            <!-- Codigo da unidade -->
            <td>
                    <!-- Nome do produto dentro da category -->
                    @Html.DisplayFor(modelItem => productList.Sale.CodVenda)
            </td>

            @*
            <td>
                    <!-- Nome do produto dentro da category -->
                    @Html.DisplayFor(modelItem => productList.Product.Name)
            </td>
              *@
              
                <td>
                <!--  td é uma celula ou coluna na pagina html -->
                    @*<a class="btn btn-outline-success" asp-action="Details" asp-route-id="@product.ID">Details</a>*@
                <a class="btn btn-outline-warning" asp-action="Edit" asp-route-id="@productList.ID">Edit</a>
                <a class="btn btn-outline-danger" asp-action="Delete" asp-route-id="@productList.ID">Delete</a>

            </td>
        </tr>
        }
    </tbody>
    

</table>